# Creating Graph Visualizations
Using the `tisane.Graph` class, you can obtain both TikZ and DOT figures.


## TikZ

After obtaining a `tisane.Graph` object `g`, a visualization of a graph containing
all the nodes can be obtained by running `g.get_tikz_graph()`. A `standalone`
class of LaTeX document is
written to a `.tex` file, which produces PDFs that exactly fit the figures created.
Note that in order to use automatic layout features, from the `graphdrawing` tikz
library, you have to typeset these documents with LuaLaTeX or LuaTeX.

For example, after running the unit tests in `tests/test_graph_vis.py`, we get the
following output.

```LaTeX
% test_more_complex.tex
\documentclass{standalone}
\usepackage{tikz}

\usetikzlibrary{graphs,graphdrawing,quotes}
\usegdlibrary{force,layered}
\begin{document}

\begin{tikzpicture}[causes/.style={draw=black, "cause", text=black},
                    associates/.style={draw=black, "assoc."},
                    min/.style={minimum size=2cm},
                    unit/.style={min,draw=black},
                    measure/.style={min,circle,draw=black},
                    has/.style={densely dotted},
                    nests/.style={dashed},
                    depvar/.style={draw=none,fill=grey!30}]

    \graph[layered layout,sibling distance=3cm,level distance=3cm]{
		Student[unit] -> [has] Test score[measure];
		Student -> [associates] Test score;
		Student -> [has] Race[measure];
		Student -> [has] Race*SES[measure];
		Student -> [has] SES[measure];
		Test score -> [associates] Race;
		Test score -> [associates] Student;
		Test score -> [associates] Race*SES;
		Race -> [associates] Test score;
		Race -> [causes] treatment[measure];
		Race*SES -> [associates] Test score;

    };
\end{tikzpicture}

\end{document}
```

```LaTeX
% test_units.tex
\documentclass{standalone}
\usepackage{tikz}

\usetikzlibrary{graphs,graphdrawing,quotes}
\usegdlibrary{force,layered}
\begin{document}

\begin{tikzpicture}[causes/.style={draw=black, "cause", text=black},
                    associates/.style={draw=black, "assoc."},
                    min/.style={minimum size=2cm},
                    unit/.style={min,draw=black},
                    measure/.style={min,circle,draw=black},
                    has/.style={densely dotted},
                    nests/.style={dashed},
                    depvar/.style={draw=none,fill=grey!30}]

    \graph[layered layout,sibling distance=3cm,level distance=3cm]{
		student id[unit] -> [has] test score[measure];
		school id[unit] -> [causes] test score;

    };
\end{tikzpicture}

\end{document}
```

After typesetting using `LuaTeX` or `LuaLaTeX`, you should have the following:

![A graph generated using TikZ and LuaLaTeX containing four nodes, Student (square shaped), Test Score (circle shaped), Race (circle shaped), Race*SES (circle shaped), SES (circle shaped), and treatment (circle shaped).](examples/standalone1.png?raw=true)

![A graph generated using TikZ and LuaLaTeX containing the nodes student id, test score, and school. Student id and school are circles, and test score is a rectangle. There are arrows between student id and test score, and school id and test score. The arrow from school id to test score is red, and has a c next to it.](examples/standalone2.png?raw=true)

## DOT

Using the `tisane.Graph.get_dot_graph` method, you can obtain the same graphs,
but instead using GraphViz's DOT.

![A graph generated by DOT containing four nodes, Student (box shaped), Test Score (ellipse shaped), Race (ellipse shaped), Race*SES (ellipse shaped), SES (ellipse shaped), and treatment (ellipse shaped).](examples/test_more_complex.png?raw=true)

![A graph generated by DOT containing the nodes student id, test score, and school. Student id and school are ellipses, and test score is a rectangle. There are arrows between student id and test score, and school id and test score. The arrow from school id to test score is red, and has a c next to it.](examples/test_units.png?raw=true)
